<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>树形数据结构</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
</body>
</html>
<script type="text/JavaScript">
let allDatas = [
  {
    id: 5,
    name: 'ddddd',
    parendId: 4
  },
  {
    id: 3,
    name: 'bbbb',
    parendId: 1
  },
  {
    id: 2,
    name: 'aaaaa',
    parendId: 3
  },
  {
    id: 4,
    name: 'ccccc',
    parendId: 1
  },
  
  {
    id: 6,
    name: 'eeeee',
    parendId: 4
  }, 
  {
    id: 7,
    name: 'ffff',
    parendId: 6
  },
  {
    id: 8,
    name: 'ggggg',
    parendId: 3
  },
  {
    id: 9,
    name: 'hhhhh',
    parendId: 5
  },
  {
    id: 10,
    name: 'jjjj',
    parendId: 6
  },
  {
    id: 16,
    name: 'jjjj',
    parendId: ''
  }
];
function toTreeData( data, config ){ 
	    	var _id = "id";
	    	var _pid = "parendId"; 
	    	var _children = "children";
	    	if( config ){
	    		_id = config.id; 
	    	};
			var map = {};
	        data.forEach(function (item) {
	        	if( !item[_pid] ){
	        		item[_pid] = '~';
	        	};
	        	var _idval = item[_id].toString(); 
	            map[_idval] = item;
            }); 
	        var val = []; 
	        data.forEach(function (item) { 
	        	var _pidval = item[_pid].toString(); 
	            var parent = map[ _pidval ]; 
	            if (parent) { 
                    (parent[_children] || ( parent[_children] = [] )).push(item); 
	            } else { 
	                val.push(item);
	            };
	        });  
	        return val;
} 
console.log(toTreeData(allDatas))
 






    

        
</script>